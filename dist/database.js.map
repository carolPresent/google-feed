{"version":3,"sources":["../database.js"],"names":["mongoose","require","Schema","Promise","global","init","dbLink","connect","useNewUrlParser","catch","err","logger","WriteToLog","FeedSchema","Name","type","String","trim","required","Users","ObjectId","ref","Feed","model","module","exports","Init"],"mappings":";;AAAA,IAAMA,WAASC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAAOF,SAASE,MAApB;;AAEAF,SAASG,OAAT,GAAiBC,OAAOD,OAAxB;;AAEA,IAAIE,OAAK,SAALA,IAAK,CAASC,MAAT,EAAgB;AACrBN,aAASO,OAAT,CAAiBD,MAAjB,EAAwB,EAAEE,iBAAiB,IAAnB,EAAxB,EAAmDC,KAAnD,CAAyD,UAASC,GAAT,EAAa;AAClEC,eAAOC,UAAP,+DAA8EF,GAA9E;AACH,KAFD;AAGH,CAJD;;AAMA,IAAIG,aAAW,IAAIX,MAAJ,CAAW;AACtBY,UAAK;AACDC,cAAKC,MADJ;AAEDC,cAAK,IAFJ;AAGDC,kBAAS;AAHR,KADiB;AAMtBC,WAAM,CAAC;AACHJ,cAAKb,OAAOkB,QADT;AAEHC,aAAI;AAFD,KAAD;AANgB,CAAX,CAAf;;AAYA,IAAIC,OAAKtB,SAASuB,KAAT,CAAe,MAAf,EAAsBV,UAAtB,CAAT;;AAEAW,OAAOC,OAAP,GAAe;AACXC,UAAKrB,IADM;AAEXiB;AAFW,CAAf","file":"database.js","sourcesContent":["const mongoose=require('mongoose');\nvar Schema=mongoose.Schema;\n\nmongoose.Promise=global.Promise;\n\nvar init=function(dbLink){\n    mongoose.connect(dbLink,{ useNewUrlParser: true }).catch(function(err){\n        logger.WriteToLog(`Error occurred while establishing connection to mongo db ${err}`);\n    });\n}\n\nvar FeedSchema=new Schema({\n    Name:{\n        type:String,\n        trim:true,\n        required:true\n    },\n    Users:[{\n        type:Schema.ObjectId,\n        ref:'User'\n    }]\n});\n\nvar Feed=mongoose.model(\"Feed\",FeedSchema);\n\nmodule.exports={\n    Init:init,\n    Feed\n};"]}